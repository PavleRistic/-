# -#include<stdio.h>
#include<stdlib.h>
#include<string.h>
main(){p:printf("\n");int n[99],a[20],t[9],u[9],b=0,d=0,j=0,r=0,g=0;float i;char v[99];while(b<99){v[b]=0;b++;}b=0;printf("Izaberi\n1.inverzna matrica\n2.rang matrice\n3.resavanje sistema matricnom metodom\n4.resavanje sistema metodom determinanti\nostalo.izadji iz programa\n");scanf("%d",&d);if(d==1)goto o;if(d==2)goto l;if(d==3)goto k;if(d==4)goto e;else return 0;o:while(b<9){printf("a[%d][%d]=",b/3,b%3);scanf("%d",&a[b]);t[b]=a[b];b++;}b=0;printf("\t|%d\t%d\t%d|\nA=\t|%d\t%d\t%d|\n\t|%d\t%d\t%d|\n\n",a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8]);printf("izaberite koliko I oduzimate od A ");scanf("%d",&r);while(b<9){if(b%4==0)t[b]=a[b]-r*a[b];b++;}b=0;printf("\t|%d\t%d\t%d|\nA-I=\t|%d\t%d\t%d|\n\t|%d\t%d\t%d|\n",t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]);d=t[0]*t[4]*t[8]+t[1]*t[5]*t[6]+t[2]*t[3]*t[7]-t[6]*t[4]*t[2]-t[7]*t[5]*t[0]-t[8]*t[3]*t[1];printf("\n\ndetA=%d\n\n",d);while(b<3){if(b>0)j=1;if(b>1)r=1;if(b==1)g=1;else g=0;u[b]=(t[4-j]*t[8-r]-t[7-j]*t[5-r])*(1-2*g);u[b+3]=(t[1-j]*t[8-r]-t[7-j]*t[2-r])*(2*g-1);u[b+6]=(t[1-j]*t[5-r]-t[4-g]*t[2-r])*(1-2*g);b++;}b=0;printf("\t|%d\t%d\t%d|\nB(-1)=\t|%d\t%d\t%d|\n\t|%d\t%d\t%d|\n\n",u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8]);while(b<9){a[b]=u[b];b++;}b=0;while(b<9){u[b]=a[b/3+b%3*3];b++;}b=0;printf("\t|%d\t%d\t%d|\nB(T)=\t|%d\t%d\t%d|\n\t|%d\t%d\t%d|\n\n",u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8]);while(b<9){t[b]=a[b]*u[0]+a[b+1]*u[1]+a[b+2]*u[2];t[b+1]=a[b]*u[3]+a[b+1]*u[4]+a[b+2]*u[5];t[b+2]=a[b]*u[6]+a[b+1]*u[7]+a[b+2]*u[8];b+=3;}printf("\t|%d\t%d\t%d|\nA*B=\t|%d\t%d\t%d|\n\t|%d\t%d\t%d|\n\n",t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]);printf("\t|%d\t%d\t%d|\nX=\t|%d\t%d\t%d|\n\t|%d\t%d\t%d|\n",t[0]/d,t[1]/d,t[2]/d,t[3]/d,t[4]/d,t[5]/d,t[6]/d,t[7]/d,t[8]/d);goto p;l:printf("izaberite broj redova ");scanf("%d",&g);printf("izaberite broj vrsta ");scanf("%d",&b);while(r<b*g){printf("a[%d][%d]=",r/g,r%(b-1));scanf("%d",&n[r]);r++;}r=0;printf("\n");while(r<b*g){printf("   %d ",n[r]);r++;if(r%g==0)printf("\n");}r=0;printf("\n\n");r=0;d=0;while(d<b*g){if(n[d]==0){d+=g+1;continue;}while(r<(b-1)*g){i=-1*(n[r+g+d]/n[d]);while(1){n[r+g+d]+=i*n[r%g+d];r++;if(r%g==0)break;}}r=0;d+=g+1;}while(r<b*g){printf("   %d ",n[r]);r++;if(r%g==0)printf("\n");}r=0;i=0;while(r<b*g){if(n[r]!=0)i++;r+=g+1;}printf("\nrang(A)=%.0f\n",i);goto p;e:printf("unesi prvu jednacinu ");scanf("%s",&v);while(b<99){if(v[b]=='z')goto T;b++;}b=0;if(v[0]=='x')a[0]=1;else{a[0]=1;if(v[0]=='-'){a[0]=-1;while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[0]!='x'){a[0]*=v[0]-48;while(b<99){v[b]=v[b+1];b++;}b=0;}}if(v[1]!='-')a[1]=1;else a[1]=-1;while(b<99){v[b]=v[b+1];b++;}b=0;if(v[1]!='y'){a[1]*=v[1]-48;while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[3]!='-')a[2]=v[3]-48;else{a[2]=-1*(v[4]-48);while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[4]!=0)a[10]*=10+v[2]-48;printf("unesi drugu jednacinu ");scanf("%s",&v);if(v[0]=='x')a[3]=1;else{a[3]=1;if(v[0]=='-'){a[3]=-1;while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[0]!='x'){a[3]*=v[0]-48;while(b<99){v[b]=v[b+1];b++;}b=0;}}if(v[1]!='-')a[4]=1;else a[4]=-1;while(b<99){v[b]=v[b+1];b++;}b=0;if(v[1]!='y'){a[4]*=v[1]-48;while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[3]!='-')a[5]=v[3]-48;else{a[5]=-1*(v[4]-48);while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[4]!=0)a[5]*=10+v[4]-48;printf("\n   %d  %d\nD= %d  %d\n",a[0],a[1],a[3],a[4]);if(a[0]*a[1]-a[3]*a[4]!=0){printf("\n    %d  %d\nDx= %d  %d\n",a[2],a[1],a[5],a[4]);printf("\n    %d  %d\nDy= %d  %d\n\n",a[0],a[2],a[3],a[5]);printf("x= %d/%d=%d\n\n",a[2]*a[4]-a[1]*a[5],a[0]*a[1]-a[3]*a[4],(a[2]*a[4]-a[1]*a[5])/(a[0]*a[1]-a[3]*a[4]));printf("y= %d/%d=%d\n",a[0]*a[5]-a[2]*a[3],a[0]*a[1]-a[3]*a[4],(a[0]*a[5]-a[2]*a[3])/(a[0]*a[1]-a[3]*a[4]));}else if(a[0]*a[5]-a[2]*a[3]==0&&a[2]*a[4]-a[1]*a[5]==0)printf("\nbeskonacno mnogo resenja za x i y\n");else printf("\nnema resenja\n");goto p;T:g=0;b=0;if(v[0]=='x')a[0]=1;else{a[0]=1;if(v[0]=='-'){a[0]=-1;while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[0]!='x'){a[0]*=v[0]-48;while(b<99){v[b]=v[b+1];b++;}b=0;}}if(v[1]!='-')a[1]=1;else a[1]=-1;while(b<99){v[b]=v[b+1];b++;}b=0;if(v[1]!='y'){a[1]*=v[1]-48;while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[2]!='-')a[2]=1;else a[2]=-1;while(b<99){v[b]=v[b+1];b++;}b=0;if(v[2]!='z'){a[2]*=v[2]-48;while(b<99){v[b]=v[b+1];b++;}b=0;}while(b<99){v[b]=v[b+1];b++;}b=0;if(v[3]!='-')a[9]=v[3]-48;else{a[9]=-1*(v[4]-48);while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[4]!=0)a[9]*=10+v[4]-48;printf("unesi drugu jednacinu ");scanf("%s",&v);if(v[0]=='x')a[3]=1;else{a[3]=1;if(v[0]=='-'){a[3]=-1;while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[0]!='x'){a[3]*=v[0]-48;while(b<99){v[b]=v[b+1];b++;}b=0;}}if(v[1]!='-')a[4]=1;else a[4]=-1;while(b<99){v[b]=v[b+1];b++;}b=0;if(v[1]!='y'){a[4]*=v[1]-48;while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[2]!='-')a[5]=1;else a[5]=-1;while(b<99){v[b]=v[b+1];b++;}b=0;if(v[2]!='z'){a[5]*=v[2]-48;while(b<99){v[b]=v[b+1];b++;}b=0;}while(b<99){v[b]=v[b+1];b++;}b=0;if(v[3]!='-')a[10]=v[3]-48;else{a[10]=-1*(v[4]-48);while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[4]!=0)a[10]*=10+v[4]-48;printf("unesi trecu jednacinu ");scanf("%s",&v);if(v[0]=='x')a[6]=1;else{a[6]=1;if(v[0]=='-'){a[6]=-1;while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[0]!='x'){a[6]*=v[0]-48;while(b<99){v[b]=v[b+1];b++;}b=0;}}if(v[1]!='-')a[7]=1;else a[7]=-1;while(b<99){v[b]=v[b+1];b++;}b=0;if(v[1]!='y'){a[7]*=v[1]-48;while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[2]!='-')a[8]=1;else a[8]=-1;while(b<99){v[b]=v[b+1];b++;}b=0;if(v[2]!='z'){a[8]*=v[2]-48;while(b<99){v[b]=v[b+1];b++;}b=0;}while(b<99){v[b]=v[b+1];b++;}b=0;if(v[3]!='-')a[11]=v[3]-48;else{a[11]=-1*(v[4]-48);while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[4]!=0)a[11]*=10+v[4]-48;printf("\n     %d   %d   %d\nD=   %d   %d   %d\n     %d   %d   %d\n",a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8]);if(a[0]*a[4]*a[8]+a[1]*a[5]*a[6]+a[2]*a[3]*a[7]-a[6]*a[4]*a[2]-a[7]*a[5]*a[0]-a[8]*a[3]*a[1]!=0){printf("\n      %d   %d   %d\nDx=   %d   %d   %d\n      %d   %d   %d\n",a[9],a[1],a[2],a[10],a[4],a[5],a[11],a[7],a[8]);printf("\n      %d  %d  %d\nDy=   %d  %d  %d\n      %d  %d  %d\n",a[0],a[9],a[2],a[3],a[10],a[5],a[6],a[11],a[8]);printf("\n      %d   %d   %d\nDz=   %d   %d   %d\n      %d   %d   %d\n",a[0],a[1],a[9],a[3],a[4],a[10],a[6],a[7],a[11]);printf("\nx =%d/%d=%d\n\n",a[9]*a[4]*a[8]+a[1]*a[5]*a[11]+a[2]*a[10]*a[7]-a[11]*a[4]*a[2]-a[7]*a[5]*a[9]-a[8]*a[10]*a[1],a[0]*a[4]*a[8]+a[1]*a[5]*a[6]+a[2]*a[3]*a[7]-a[6]*a[4]*a[2]-a[7]*a[5]*a[0]-a[8]*a[3]*a[1],(a[9]*a[4]*a[8]+a[1]*a[5]*a[11]+a[2]*a[10]*a[7]-a[11]*a[4]*a[2]-a[7]*a[5]*a[9]-a[8]*a[10]*a[1])/(a[0]*a[4]*a[8]+a[1]*a[5]*a[6]+a[2]*a[3]*a[7]-a[6]*a[4]*a[2]-a[7]*a[5]*a[0]-a[8]*a[3]*a[1]));printf("y =%d/%d=%d\n\n",a[0]*a[10]*a[8]+a[9]*a[5]*a[6]+a[2]*a[3]*a[11]-a[6]*a[10]*a[2]-a[11]*a[5]*a[0]-a[8]*a[3]*a[9],a[0]*a[4]*a[8]+a[1]*a[5]*a[6]+a[2]*a[3]*a[7]-a[6]*a[4]*a[2]-a[7]*a[5]*a[0]-a[8]*a[3]*a[1],(a[0]*a[10]*a[8]+a[9]*a[5]*a[6]+a[2]*a[3]*a[11]-a[6]*a[10]*a[2]-a[11]*a[5]*a[0]-a[8]*a[3]*a[9])/(a[0]*a[4]*a[8]+a[1]*a[5]*a[6]+a[2]*a[3]*a[7]-a[6]*a[4]*a[2]-a[7]*a[5]*a[0]-a[8]*a[3]*a[1]));printf("z =%d/%d=%d\n\n",a[0]*a[4]*a[11]+a[1]*a[10]*a[6]+a[9]*a[3]*a[7]-a[6]*a[4]*a[9]-a[7]*a[10]*a[0]-a[11]*a[3]*a[1],a[0]*a[4]*a[8]+a[1]*a[5]*a[6]+a[2]*a[3]*a[7]-a[6]*a[4]*a[2]-a[7]*a[5]*a[0]-a[8]*a[3]*a[1],(a[0]*a[4]*a[11]+a[1]*a[10]*a[6]+a[9]*a[3]*a[7]-a[6]*a[4]*a[9]-a[7]*a[10]*a[0]-a[11]*a[3]*a[1])/(a[0]*a[4]*a[8]+a[1]*a[5]*a[6]+a[2]*a[3]*a[7]-a[6]*a[4]*a[2]-a[7]*a[5]*a[0]-a[8]*a[3]*a[1]));}else if(a[9]*a[4]*a[8]+a[1]*a[5]*a[11]+a[2]*a[10]*a[7]-a[11]*a[4]*a[2]-a[7]*a[5]*a[9]-a[8]*a[10]*a[1]==0&&a[0]*a[10]*a[8]+a[9]*a[5]*a[6]+a[2]*a[3]*a[11]-a[6]*a[10]*a[2]-a[11]*a[5]*a[0]-a[8]*a[3]*a[9]==0&&a[0]*a[4]*a[11]+a[1]*a[10]*a[6]+a[9]*a[3]*a[7]-a[6]*a[4]*a[9]-a[7]*a[10]*a[0]-a[11]*a[3]*a[1]==0)printf("\nbeskonacno mnogo resenja za x,y i z\n");else printf("\nnema resenja\n");goto p;k:g=0;b=0;printf("unesi prvu jednacinu ");scanf("%s",&v);if(v[0]=='x')a[0]=1;else{a[0]=1;if(v[0]=='-'){a[0]=-1;while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[0]!='x'){a[0]*=v[0]-48;while(b<99){v[b]=v[b+1];b++;}b=0;}}if(v[1]!='-')a[1]=1;else a[1]=-1;while(b<99){v[b]=v[b+1];b++;}b=0;if(v[1]!='y'){a[1]*=v[1]-48;while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[2]!='-')a[2]=1;else a[2]=-1;while(b<99){v[b]=v[b+1];b++;}b=0;if(v[2]!='z'){a[2]*=v[2]-48;while(b<99){v[b]=v[b+1];b++;}b=0;}while(b<99){v[b]=v[b+1];b++;}b=0;if(v[3]!='-')a[9]=v[3]-48;else{a[9]=-1*(v[4]-48);while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[4]!=0)a[9]*=10+v[4]-48;printf("unesi drugu jednacinu ");scanf("%s",&v);if(v[0]=='x')a[3]=1;else{a[3]=1;if(v[0]=='-'){a[3]=-1;while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[0]!='x'){a[3]*=v[0]-48;while(b<99){v[b]=v[b+1];b++;}b=0;}}if(v[1]!='-')a[4]=1;else a[4]=-1;while(b<99){v[b]=v[b+1];b++;}b=0;if(v[1]!='y'){a[4]*=v[1]-48;while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[2]!='-')a[5]=1;else a[5]=-1;while(b<99){v[b]=v[b+1];b++;}b=0;if(v[2]!='z'){a[5]*=v[2]-48;while(b<99){v[b]=v[b+1];b++;}b=0;}while(b<99){v[b]=v[b+1];b++;}b=0;if(v[3]!='-')a[10]=v[3]-48;else{a[10]=-1*(v[4]-48);while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[4]!=0)a[10]*=10+v[4]-48;printf("unesi trecu jednacinu ");scanf("%s",&v);if(v[0]=='x')a[6]=1;else{a[6]=1;if(v[0]=='-'){a[6]=-1;while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[0]!='x'){a[6]*=v[0]-48;while(b<99){v[b]=v[b+1];b++;}b=0;}}if(v[1]!='-')a[7]=1;else a[7]=-1;while(b<99){v[b]=v[b+1];b++;}b=0;if(v[1]!='y'){a[7]*=v[1]-48;while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[2]!='-')a[8]=1;else a[8]=-1;while(b<99){v[b]=v[b+1];b++;}b=0;if(v[2]!='z'){a[8]*=v[2]-48;while(b<99){v[b]=v[b+1];b++;}b=0;}while(b<99){v[b]=v[b+1];b++;}b=0;if(v[3]!='-')a[11]=v[3]-48;else{a[11]=-1*(v[4]-48);while(b<99){v[b]=v[b+1];b++;}b=0;}if(v[4]!=0)a[11]*=10+v[4]-48;printf("\n     %d  %d  %d      %d\nA=   %d  %d  %d B=   %d\n     %d  %d  %d      %d\n",a[0],a[1],a[2],a[9],a[3],a[4],a[5],a[10],a[6],a[7],a[8],a[11]);d=a[0]*a[4]*a[8]+a[1]*a[5]*a[6]+a[2]*a[3]*a[7]-a[6]*a[4]*a[2]-a[7]*a[5]*a[0]-a[8]*a[3]*a[1];printf("\n\ndetA=%d\n\n",d);while(b<3){if(b>0)j=1;if(b>1)r=1;if(b==1)g=1;else g=0;u[b]=(a[4-j]*a[8-r]-a[7-j]*a[5-r])*(1-2*g);u[b+3]=(a[1-j]*a[8-r]-a[7-j]*a[2-r])*(2*g-1);u[b+6]=(a[1-j]*a[5-r]-a[4-j]*a[2-r])*(1-2*g);b++;}b=0;while(b<9){a[b]=u[b/3+b%3*3];b++;}b=0;printf("\t %d\t%d\t%d\nA(-1)=\t %d\t%d\t%d\n\t %d\t%d\t%d\n\n",a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8]);while(b<1){t[b]=a[b]*a[9]+a[b+1]*a[10]+a[b+2]*a[11];t[b+1]=a[b+3]*a[9]+a[b+4]*a[10]+a[b+5]*a[11];t[b+2]=a[b+6]*a[9]+a[b+7]*a[10]+a[b+8]*a[11];b++;}b=0;if(d!=0)printf("   1\t %d      %d\nX= -  *  %d  =    %d\n  %d \t %d      %d\n\n",t[0],t[0]/d,t[1],t[1]/d,d,t[2],t[2]/d);else printf("   1\t %d\nX= -  *  %d\n   %d\t %d\n\n",t[0],t[1],d,t[2]);goto p;}
/*3
x+y+2z=-1
2x-y+2z=-4
4x+y+4z=-2
3
5x-2y+3z=15
2x+3y+z=2
x-3y-4z=1*/
